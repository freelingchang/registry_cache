鲜明的时代背景和赤果果的刚需:我们代码和镜像构建都在内网，线上部署的时候需要从内网拉镜像。所以不得不在线上建立registry缓存代理。      
因为docker官方的registry 代理缓存用起来跟便秘似的，所有我只好使点巧劲儿，用nginx来做缓存代理。    
只支持v2版本。
具体原理是镜像的分层id对应到唯一的url，,采用nginx 缓存该url即把每层都缓存下来了。   
索引的缓存时间是5分钟，所以如果5分钟内有新增或修改镜像后通过代理是没办法拉到的。
注意内网的registry 最好限制只有代理服务器IP和内网测试服务器网段才可以访问，免得所有的镜像都被别人拉走了...
